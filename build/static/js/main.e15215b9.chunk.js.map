{"version":3,"sources":["components/Header.js","components/FormInput.js","components/SubmitButton.js","components/Form.js","components/Number.js","components/Phones.js","components/Filter.js","services/numbers.js","components/Notification.js","components/Phonebook.js","App.js","index.js"],"names":["Header","title","FormInput","value","changeHandler","type","onChange","SubmitButton","Form","addPerson","newName","handleNameChange","newPhone","handlePhoneChange","onSubmit","Number","name","number","deleteHandler","onClick","Phones","persons","map","person","i","key","phone","id","Filter","filterChange","personFilter","baseUrl","axios","get","then","data","newObject","post","put","delete","catch","alert","Notification","message","className","Phonebook","useState","setPersons","setNewName","setNewPhone","setPersonFilter","successfulDeleteMessage","setSuccessfulDeleteMessage","successfulAddMessage","setSuccessfulAddMessage","successfulEditMessage","setSuccessfulEditMessage","errorMessage","setErrorMessage","useEffect","numberService","personsData","showPersons","filter","toUpperCase","search","event","target","preventDefault","checkingPerson","newPerson","undefined","find","checkIfPhoneIsNotPresent","returnedPerson","concat","setTimeout","error","window","confirm","existingPerson","changedPerson","e","r","status","App","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.e15215b9.chunk.js","sourcesContent":["import React from 'react';\n\nconst Header = ({ title }) => {\n\n    return (\n        <h2>{title}</h2>\n    )\n}\n\nexport default Header;","import React from 'react';\n\nconst FormInput = ({ value, changeHandler, type }) => {\n\n    return (\n        <input value={value} type= {type} onChange={changeHandler} />\n    )\n}\n\nexport default FormInput;","import React from 'react';\n\nconst SubmitButton = ({ title }) => {\n\n    return (\n        <button type=\"submit\">{title}</button>\n    )\n}\n\nexport default SubmitButton;","import React from 'react';\nimport FormInput from './FormInput';\nimport SubmitButton from './SubmitButton';\n\nconst Form = ({ addPerson, newName, handleNameChange,\n                  newPhone, handlePhoneChange }) => {\n\n    return (\n        <form onSubmit={addPerson}>\n            <div>\n                Name:  <FormInput value={newName} changeHandler={handleNameChange} type=\"text\" />\n                <br/>\n                Phone: <FormInput value={newPhone} changeHandler={handlePhoneChange} type=\"text\"/>\n            </div>\n            <div>\n                <br/>\n                <SubmitButton title=\"Add a record\" />\n            </div>\n        </form>\n    )\n}\n\nexport default Form;","import React from 'react';\n\nconst Number = ({ name, number, deleteHandler}) => {\n\n    return (\n        <>\n            <p>{name} {number}</p>\n            <button onClick={deleteHandler}>delete number</button>\n        </>\n    )\n}\n\nexport default Number;","import React from 'react';\nimport Number from './Number'\n\nconst Phones = ({ persons, deleteHandler }) => {\n\n    return (\n        persons.map((person, i) =>\n            <Number key={i} name={person.name} number={person.phone} deleteHandler={() => deleteHandler(person.id)}/>\n        )\n    )\n}\n\nexport default Phones","import React from 'react';\nimport Header from './Header';\nimport FormInput from './FormInput';\n\nconst Filter = ({ filterChange, personFilter }) => {\n\n    return (\n        <div>\n            <Header title=\"Mauri's personal Phone book:\"/>\n            <p>Filter names shown with: </p>\n            <FormInput value={personFilter} type=\"text\" changeHandler={filterChange}/>\n        </div>\n    )\n}\n\nexport default Filter;","import axios from 'axios';\n\nconst baseUrl = '/api/persons';\n\nconst getAll = () => {\n    const request = axios.get(baseUrl);\n    return request.then(persons => persons.data)\n}\n\nconst create = (newObject) => {\n    const request = axios.post(baseUrl, newObject);\n    return request.then(persons => persons.data);\n}\n\nconst update = (newObject, id) => {\n    const request = axios.put(`${baseUrl}/${id}`, newObject);\n    return request.then(persons => persons.data);\n}\n\nconst deletedItem = (id) => {\n\n    return axios\n        .delete(`${baseUrl}/${id}`)\n        .catch(() => alert(\"Couldn't delete requested user.\"));\n}\n\nexport default { getAll, create, update, deletedItem };","import React from 'react';\n\n// eslint-disable-next-line react/prop-types\nconst Notification = ({ message }) => {\n\n    return message === null ? null\n        : (\n          <div className=\"notification\">\n              {message}\n            </div>\n        );\n};\n\nexport default Notification;","import React, { useState, useEffect } from 'react';\nimport Header from './Header';\nimport Form from './Form';\nimport Phones from './Phones';\nimport Filter from './Filter';\nimport numberService from '../services/numbers';\nimport Notification from './Notification';\n\nconst Phonebook = () => {\n  const [persons, setPersons] = useState([]);\n  const [newName, setNewName] = useState('');\n  const [newPhone, setNewPhone] = useState('');\n  const [personFilter, setPersonFilter] = useState('');\n  const [successfulDeleteMessage, setSuccessfulDeleteMessage] = useState(null);\n  const [successfulAddMessage, setSuccessfulAddMessage] = useState(null);\n  const [successfulEditMessage, setSuccessfulEditMessage] = useState(null);\n  const [errorMessage, setErrorMessage] = useState(null);\n\n  const handleNameChange = (event) => setNewName(event.target.value);\n  const handlePhoneChange = (event) => setNewPhone(event.target.value);\n  const handlePersonFilter = (event) => setPersonFilter(event.target.value);\n\n  useEffect(() => {\n    numberService\n      .getAll()\n      .then((personsData) => {\n        setPersons(personsData);\n      });\n  }, []);\n\n  // eslint-disable-next-line max-len\n  const checkIfNameIsNotPresent = (checkingPerson) => (persons.find((person) => person.name.toUpperCase() === checkingPerson.name.toUpperCase()) === undefined);\n\n  // eslint-disable-next-line max-len\n  const checkIfPhoneIsNotPresent = (checkingPerson) => (persons.find((person) => checkingPerson.phone === person.phone) === undefined);\n\n  const showPersons = personFilter\n  // eslint-disable-next-line max-len\n    ? persons.filter((person) => person.name.toUpperCase().search(personFilter.toUpperCase()) !== -1)\n    : persons;\n\n  const addPerson = (event) => {\n    event.preventDefault();\n\n    const newPerson = {\n      name: newName,\n      phone: newPhone,\n    };\n\n    if (checkIfNameIsNotPresent(newPerson) && checkIfPhoneIsNotPresent(newPerson)) {\n      numberService\n        .create(newPerson)\n        .then((returnedPerson) => {\n          setPersons(persons.concat(returnedPerson));\n          setSuccessfulAddMessage(\n            'Number successfully added.',\n          );\n          setTimeout(() => {\n            setSuccessfulAddMessage(null);\n          }, 3000);\n        })\n      // eslint-disable-next-line no-unused-vars\n        .catch((error) => {\n          setErrorMessage('VALIDATION ERROR, Ensure that length of name > 3, phone length > 7 and name is unique.');\n          setTimeout(() => {\n            setErrorMessage(null);\n          }, 5000);\n        });\n    } else {\n      // eslint-disable-next-line no-undef\n      const confirm = window.confirm(`${newPerson.name} is already added on the phone book, replace the old number with the new one?`);\n\n      if (confirm) {\n        const existingPerson = persons.find((person) => newPerson.name === person.name\n                    || person.phone === newPerson.phone);\n        // eslint-disable-next-line max-len\n        const changedPerson = { ...existingPerson, name: newPerson.name, phone: newPerson.phone };\n\n        numberService\n          .update(changedPerson, existingPerson.id)\n          .then((returnedPerson) => {\n            // eslint-disable-next-line max-len\n            setPersons(persons.map((person) => (person.id !== returnedPerson.id ? person : returnedPerson)));\n            setSuccessfulEditMessage(\n              `Number of ${returnedPerson.name} successfully updated.`,\n            );\n            setTimeout(() => {\n              setSuccessfulEditMessage(null);\n            }, 3000);\n          })\n        // eslint-disable-next-line no-unused-vars\n          .catch((e) => {\n            // eslint-disable-next-line no-undef\n            alert('Error, number was already deleted.');\n            setPersons(persons.filter((person) => person.id !== changedPerson.id));\n          });\n      } else {\n        setNewName('');\n        setNewPhone('');\n      }\n    }\n  };\n\n  const deletePerson = (id) => {\n    numberService\n      .deletedItem(id).then((r) => {\n        if (r.status === 204) {\n          setPersons(persons.filter((person) => person.id !== id));\n          setSuccessfulDeleteMessage('Person successfully deleted.');\n\n          setTimeout(() => {\n            setSuccessfulDeleteMessage(null);\n          }, 3000);\n        }\n      })\n    // eslint-disable-next-line no-unused-vars\n      .catch((e) => {\n        // eslint-disable-next-line no-undef\n        setErrorMessage('Person was already deleted from the phone-book.');\n        setTimeout(() => {\n          setErrorMessage(null);\n        }, 3000);\n\n        setPersons(persons.filter((person) => person.id !== id));\n      });\n  };\n\n  return (\n    <div>\n      <Filter filterChange={handlePersonFilter} value={personFilter} />\n      <Notification message={errorMessage} />\n      <Header title=\"Add a new: \" />\n      <Notification message={successfulAddMessage} />\n      <Notification message={successfulEditMessage} />\n      <Form\n        addPerson={addPerson}\n        newName={newName}\n        handleNameChange={handleNameChange}\n        newPhone={newPhone}\n        handlePhoneChange={handlePhoneChange}\n      />\n      <Header title=\"Numbers: \" />\n      <Notification message={successfulDeleteMessage} />\n      <Phones persons={showPersons} deleteHandler={deletePerson} />\n    </div>\n  );\n};\n\nexport default Phonebook;\n","import React from 'react';\nimport Phonebook from './components/Phonebook';\n\nconst App = () => {\n\n    return (\n        <>\n            <Phonebook />\n        </>\n    )\n}\n\nexport default App","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\nimport './index.css';\n\n\nReactDOM.render(\n    <App />,\n  document.getElementById('root')\n);\n"],"sourceRoot":""}